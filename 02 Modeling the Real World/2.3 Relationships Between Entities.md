# 📘 2.3 – Relationships Between Entities

---

### 🧠 The Why

Once you’ve identified entities like `Student`, `Course`, or `Instructor`, the next question is:

> How are these entities connected?

That’s where **relationships** come into play.

Real-world systems aren’t just isolated data points — they’re connected.  
And understanding those connections is the core of designing a powerful, normalized database.

---

### 🔗 What is a Relationship?

A **relationship** is a logical connection between two or more entities.

For example:
- A `Student` **enrolls** in a `Course`
- A `Customer` **places** an `Order`
- A `Doctor` **treats** a `Patient`

Each of these describes an **interaction** between two or more entities.

In ER Diagrams:
- Relationships are shown as **diamonds**
- Connected to entities (rectangles) with lines

---

### 🧩 Types of Relationships

There are **three** core types of relationships in data modeling:

#### 1. **One-to-One (1:1)**

Each entity in A is related to **at most one** entity in B.

📘 Example:  
- One `Person` ↔ One `Passport`

📐 ER Representation:
```
[Person] --- (has) --- [Passport]
```

#### 2. **One-to-Many (1:N)**

An entity in A can be related to **multiple** entities in B.

📘 Example:  
- One `Teacher` teaches many `Courses`  
- Each `Course` is taught by only one `Teacher`

📐 ER Representation:
```
[Teacher] ---< (teaches) >--- [Course]
```

#### 3. **Many-to-Many (M:N)**

Entities in A and B can both have **multiple** related entities.

📘 Example:
- A `Student` can enroll in many `Courses`  
- A `Course` can have many `Students`

📐 ER Representation:
```
[Student] ---< (enrolls) >--- [Course]
```

In relational schema, this is usually handled with a **junction table** like:
```sql
CREATE TABLE enrollments (
  student_id INT,
  course_id INT,
  PRIMARY KEY (student_id, course_id),
  FOREIGN KEY (student_id) REFERENCES students(id),
  FOREIGN KEY (course_id) REFERENCES courses(id)
);
```

---

### 🧪 Real-World Example: Instagram

| Entity | Relationship | Entity |
|--------|--------------|--------|
| User   | follows      | User (self-relationship) |
| Post   | belongs to   | User |
| Post   | has          | Comments |
| User   | likes        | Post |

Notice how some relationships even loop back to the same entity!

---

### 🔍 Cardinality & Participation

Each relationship has:
- **Cardinality**: How many instances are involved (1:1, 1:N, N:M)
- **Participation**:
  - **Total** → Every entity must participate
  - **Partial** → Some may not

We’ll dive deeper into this in the next section.

---

### ⚠️ Common Mistakes

| Mistake | What to Do Instead |
|--------|--------------------|
| Ignoring relationships | Always think how entities interact |
| Trying to avoid M:N | Use a junction table, don’t force fit |
| Missing directionality | Understand which side "owns" the foreign key |

---

### ✅ Summary

- Relationships define **how entities interact** with each other  
- They are crucial for **normalization**, **querying**, and **schema clarity**  
- 3 Types: One-to-One, One-to-Many, Many-to-Many  
- Often implemented using **foreign keys** and **junction tables**

---

➡️ **Next:** [2.4 – Cardinality and Participation](./2.4%20Cardinality%20and%20Participation.md)
